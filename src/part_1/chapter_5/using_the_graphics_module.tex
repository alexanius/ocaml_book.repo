\section{Использование библиотеки \texttt{Graphics}}
\label{sec:using_the_graphics_module}

Использование библиотеки \texttt{Graphics} зависит от операционной системы и 
способа компиляции. Здесь мы рассмотрим только программы используемые в 
интерактивном цикле Objective CAML. В операционных систем Windows и MacOS 
интерактивное рабочее окружение само загружает библиотеку. Для систем Unix 
необходимо создать новый toplevel \footnote{в оригинале на английском, прим. 
пер.}, который зависит от того где находится библиотека X11. Если она находится 
в одном из каталогов по умолчанию, где ищутся библиотеки C, то командная строка 
будет выглядеть так:

\begin{lstlisting}[language=Bash]
ocamlmktop -custom -o mytoplevel graphics.cma -cclib -lX11
\end{lstlisting}

Этим мы исполняемый файл \texttt{mytoplevel} с включённой библиотекой 
\texttt{Graphics}. Запуск этой команды осуществляется так:

\begin{lstlisting}[language=Bash]
./mytoplevel
\end{lstlisting}

Если же библиотека расположена в другом каталоге, как в Linux, необходимо его
явно указать:

\begin{lstlisting}[language=Bash]
ocamlmktop -custom -o montoplevel graphics.cma -cclib \
-L/usr/X11/lib -cclib -lX11
\end{lstlisting}

В этом примере файл \texttt{libX11.a} ищется в каталоге \texttt{/usr/X11/lib}.

Более подробный пример команды \texttt{ocamlmktop} приведён в главе 
\ref{chpt:compilation_and_portability}.